import{d as b,u as U,a as C,r as g,b as w,c as u,o as v,e as x,f,g as e,w as l,F as y,h as k,i as S}from"./index-78dbfbb3.js";const R=b({__name:"Login",setup(V){const m=U(),r=C(),p=g(),t=w({username:"",password:""}),a=s=>{s&&s.validate(async o=>{if(o){console.log("submit!");const{data:i}=await k.post("http://localhost:8888/user/login",t).catch(_=>_);m.token=i,r.push({name:"Beer"})}else console.log("error submit!")})},n=s=>{s&&s.resetFields()};return(s,o)=>{const i=u("el-input"),_=u("el-form-item"),d=u("el-button"),F=u("el-form");return v(),x(y,null,[f(" Login "),e(F,{ref_key:"formRef",ref:p,model:t,"label-width":"100px",class:"demo-ruleForm"},{default:l(()=>[e(_,{label:"User Name",prop:"username"},{default:l(()=>[e(i,{modelValue:t.username,"onUpdate:modelValue":o[0]||(o[0]=c=>t.username=c),type:"text",autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(_,{label:"Password",prop:"password"},{default:l(()=>[e(i,{modelValue:t.password,"onUpdate:modelValue":o[1]||(o[1]=c=>t.password=c),type:"text",autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(_,null,{default:l(()=>[e(d,{type:"primary",onClick:o[2]||(o[2]=c=>a(p.value))},{default:l(()=>[f("Submit")]),_:1}),e(d,{onClick:o[3]||(o[3]=c=>n(p.value))},{default:l(()=>[f("Reset")]),_:1})]),_:1})]),_:1},8,["model"])],64)}}}),$=b({__name:"Signup",setup(V){const m=g(),r=w({username:"",password:""}),p=a=>{a&&a.validate(async n=>{if(n){console.log("submit!");const{data:s}=await k.post("http://localhost:8888/user/signup",r).catch(o=>o);console.log(s)}else console.log("error submit!")})},t=a=>{a&&a.resetFields()};return(a,n)=>{const s=u("el-input"),o=u("el-form-item"),i=u("el-button"),_=u("el-form");return v(),x(y,null,[f(" Signup "),e(_,{ref_key:"formRef",ref:m,model:r,"label-width":"100px",class:"demo-ruleForm"},{default:l(()=>[e(o,{label:"User Name",prop:"username"},{default:l(()=>[e(s,{modelValue:r.username,"onUpdate:modelValue":n[0]||(n[0]=d=>r.username=d),type:"text",autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(o,{label:"Password",prop:"password"},{default:l(()=>[e(s,{modelValue:r.password,"onUpdate:modelValue":n[1]||(n[1]=d=>r.password=d),type:"text",autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(o,null,{default:l(()=>[e(i,{type:"primary",onClick:n[2]||(n[2]=d=>p(m.value))},{default:l(()=>[f("Submit")]),_:1}),e(i,{onClick:n[3]||(n[3]=d=>t(m.value))},{default:l(()=>[f("Reset")]),_:1})]),_:1})]),_:1},8,["model"])],64)}}}),B=b({__name:"User",setup(V){const m=g("login"),r=(p,t)=>{console.log(p,t)};return(p,t)=>{const a=u("el-tab-pane"),n=u("el-tabs");return v(),S(n,{modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=s=>m.value=s),class:"demo-tabs",onTabClick:r},{default:l(()=>[e(a,{label:"Login",name:"login"},{default:l(()=>[e(R)]),_:1}),e(a,{label:"Signup",name:"signup"},{default:l(()=>[e($,{onSignup:t[0]||(t[0]=s=>m.value="login")})]),_:1})]),_:1},8,["modelValue"])}}});export{B as default};
